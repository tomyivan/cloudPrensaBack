{"version":3,"file":"token-manager.js","sourceRoot":"","sources":["../src/token-manager.ts"],"names":[],"mappings":";AAAA;;GAEG;;;;AAEH,iFAAiF;AACjF,eAAe;AACf,iFAAiF;AAEjF,sDAA+B;AAC/B,4DAA0C;AAC1C,8DAA+B;AAC/B,6BAAoC;AAEpC,yDAAmC;AACnC,mFAAyD;AA8DzD;;;;GAIG;AACH,SAAS,uBAAuB,CAAC,GAAQ,CAAC,WAAW;IACpD,IACC,GAAG,CAAC,WAAW;QACf,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI;QACzB,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvD,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EACxD;QACD,OAAO,IAAI,CAAC;KACZ;SAAM,IAAI,GAAG,CAAC,UAAU,KAAK,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,EAAE;QAC3D,OAAO,IAAI,CAAC;KACZ;IACD,OAAO,KAAK,CAAC;AACd,CAAC;AAED,iFAAiF;AACjF,YAAY;AACZ,iFAAiF;AAEjF;;;;;GAKG;AACH,IAAI,UAAU,GAAG;IAChB,kBAAkB,EAAE,oBAAoB;IACxC,aAAa,EAAE,eAAe;IAC9B,kBAAkB,EAAE,oBAAoB;IACxC,GAAG,EAAE,6CAA6C;IAClD,cAAc,EAAE,iDAAiD;CACjE,CAAC;AAEF;;;;;GAKG;AACH,IAAK,UAIJ;AAJD,WAAK,UAAU;IACd,8BAAgB,CAAA;IAChB,4BAAc,CAAA;IACd,gCAAkB,CAAA;AACnB,CAAC,EAJI,UAAU,KAAV,UAAU,QAId;AAED,mHAAmH;AACnH,IAAI,iBAAsB,CAAC,WAAW,CAAC;AAEvC,kGAAkG;AAClG,IAAM,UAAU,GAAG,iBAAiB,CAAC;AACrC,IAAM,iBAAiB,GAAG,+CAA+C,CAAC;AAC1E,IAAM,gBAAgB,GAAG,2CAA2C,CAAC;AACrE,IAAM,gBAAgB,GAAG,kCAAkC,CAAC;AAE5D,iFAAiF;AACjF,UAAU;AACV,iFAAiF;AAEjF;;;;;;GAMG;AACH,SAAS,0BAA0B,CAClC,iBAAsC,CAAC,WAAW;IAElD,OAAO;QACN,mDAAmD;QACnD,WAAW,EAAE,iBAAiB,CAAC,YAAY;QAC3C,YAAY,EAAE,iBAAiB,CAAC,aAAa;QAC7C,uGAAuG;QACvG,gBAAgB,EAAE,QAAQ,CAAC,iBAAiB,CAAC,UAAU,EAAE,EAAE,CAAC,GAAG,IAAI;QACnE,YAAY,EAAE,IAAI,CAAC,GAAG,EAAE;KACxB,CAAC;AACH,CAAC;AAED;;;;;;GAMG;AACH,SAAS,kBAAkB,CAAC,WAAmB;IAC9C,OAAO,OAAO,WAAW,KAAK,QAAQ,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;AAClE,CAAC;AAED;;;;;;;GAOG;AACH,SAAS,oBAAoB,CAC5B,SAAiB,EACjB,YAAiC,CAAC,WAAW;IAE7C,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE;QACnD,OAAO,KAAK,CAAC;KACb;IACD,IAAI,OAAO,YAAY,CAAC,UAAU,KAAK,QAAQ,EAAE;QAChD,OAAO,KAAK,CAAC;KACb;IACD,sDAAsD;IACtD,IAAI,SAAS,KAAK,oBAAoB,IAAI,SAAS,KAAK,eAAe,EAAE;QACxE,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,aAAa,CAAC,EAAE;YACpD,OAAO,KAAK,CAAC;SACb;KACD;IACD,OAAO,IAAI,CAAC;AACb,CAAC;AAED,iFAAiF;AACjF,SAAS;AACT,iFAAiF;AAEjF;;;;;;GAMG;AACH;IAKC,sBAAY,MAAc,EAAE,cAAiC;QAC5D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,UAAU,GAAG,UAAU,CAAC,IAAI,CAAC;QACxD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACtC,CAAC;IAED;;;;;;;;;OASG;IACH,yCAAkB,GAAlB,UAAmB,SAAoB,EAAE,QAAiB;QACzD,IACC,OAAO,SAAS,CAAC,YAAY,KAAK,WAAW;YAC7C,OAAO,SAAS,CAAC,gBAAgB,KAAK,WAAW,EAChD;YACD,OAAO,KAAK,CAAC;SACb;QACD,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAC;QACzB,IAAI,UAAU,GACb,SAAS,CAAC,YAAY,GAAG,SAAS,CAAC,gBAAgB,GAAG,QAAQ,CAAC;QAChE,OAAO,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAChC,CAAC;IAED;;;;;;;OAOG;IACH,gCAAS,GAAT,UACC,UAA+B,EAC/B,OAAoC;QAEpC,IAAI,MAAM,GAAG;YACZ,MAAM,EAAE,MAAM;YACd,GAAG,EAAE,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,GAAG;YACvC,OAAO,EAAE,EAAyB;YAClC,IAAI,EAAE,UAAU;SAChB,CAAC;QACF,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;QAExB,qDAAqD;QACrD,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC7C,MAAM,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;QAErD,IAAI,OAAO,CAAC,EAAE,EAAE;YACf,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,EAAE,CAAC;SACxC;QAED,OAAO,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UACnD,QAAa,CAAC,WAAW;YAEzB,uFAAuF;YACvF,0FAA0F;YAC1F,SAAS;YACT,IACC,QAAQ,CAAC,IAAI;gBACb,QAAQ,CAAC,IAAI,CAAC,KAAK;gBACnB,QAAQ,CAAC,IAAI,CAAC,KAAK,KAAK,eAAe,EACtC;gBACD,IAAI,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC;gBACrD,IAAI,OAAO,GAAG,cAAc;oBAC3B,CAAC,CAAC,sBAAe,cAAc,CAAE;oBACjC,CAAC,CAAC,SAAS,CAAC;gBACb,MAAM,gBAAM,CAAC,cAAc,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;aAC/C;YAED,sFAAsF;YACtF,oFAAoF;YACpF,sBAAsB;YACtB,IACC,QAAQ,CAAC,UAAU,KAAK,qBAAe,CAAC,EAAE;gBAC1C,QAAQ,CAAC,IAAI,YAAY,MAAM,EAC9B;gBACD,MAAM,gBAAM,CAAC,4BAA4B,CAAC,QAAQ,CAAC,CAAC;aACpD;YAED,kGAAkG;YAClG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,UAAU,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAChE,MAAM,gBAAM,CAAC,kBAAkB,CAC9B,QAAQ,EACR,oCAAoC,CACpC,CAAC;aACF;YAED,2EAA2E;YAC3E,OAAO,0BAA0B,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACJ,CAAC;IAED;;;;;;OAMG;IACH,sDAA+B,GAA/B,UACC,iBAAyB,EACzB,OAA6B;QAE7B,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,EAAE;YAC3C,OAAO,kBAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC,CAAC;SAChE;QAED,IAAI,MAAM,GAAG;YACZ,UAAU,EAAE,UAAU,CAAC,kBAAkB;YACzC,IAAI,EAAE,iBAAiB;SACvB,CAAC;QAEF,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;IAED;;;;;OAKG;IACH,sDAA+B,GAA/B,UAAgC,OAA6B;QAC5D,IAAI,MAAM,GAAG;YACZ,UAAU,EAAE,UAAU,CAAC,kBAAkB;YACzC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc;YAC5C,cAAc,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY;SACxC,CAAC;QACF,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;IAED;;;;;;OAMG;IACH,4CAAqB,GAArB,UAAsB,YAAoB,EAAE,OAA6B;QACxE,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,EAAE;YACtC,OAAO,kBAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC,CAAC;SAC3D;QAED,IAAI,MAAM,GAAG;YACZ,UAAU,EAAE,UAAU,CAAC,aAAa;YACpC,aAAa,EAAE,YAAY;SAC3B,CAAC;QAEF,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;IAED;;;;;;OAMG;IACH,wCAAiB,GAAjB,UAAkB,IAAY,EAAE,EAAU,EAAE,OAA6B;QAAzE,iBAyCC;QAxCA,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE;YACvD,OAAO,kBAAO,CAAC,MAAM,CACpB,IAAI,KAAK,CAAC,sDAAsD,CAAC,CACjE,CAAC;SACF;QAED,IAAI,MAAM,GAAG;YACZ,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc;YACvE,YAAY,EAAE,IAAI;SAClB,CAAC;QACF,IAAI,UAAU,GAAG;YAChB,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS;YACxC,QAAQ,EAAE,gBAAgB;YAC1B,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;YAC5B,KAAK,EAAE,IAAA,SAAM,GAAE;YACf,WAAW,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe;YACjD,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK;SAChC,CAAC;QACF,IAAI,SAAS,GAAG;YACf,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU;YACnC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU;SAC1C,CAAC;QAEF,IAAI,SAAS,CAAC;QACd,IAAI;YACH,SAAS,GAAG,sBAAG,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;SACpD;QAAC,OAAO,MAAM,EAAE;YAChB,OAAO,kBAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SAC9B;QAED,IAAI,MAAM,GAAG;YACZ,UAAU,EAAE,UAAU,CAAC,GAAG;YAC1B,SAAS,WAAA;SACT,CAAC;QACF,yEAAyE;QACzE,iBAAiB,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;QACrC,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;YAChD,OAAA,KAAI,CAAC,aAAa,CAAC,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC;QAA1E,CAA0E,CAC1E,CAAC;IACH,CAAC;IAED;;;;;;;;;;;;OAYG;IACH,sCAAsC;IACtC,oCAAa,GAAb,UACC,MAAW,CAAC,WAAW,EACvB,UAAe,CAAC,WAAW,EAC3B,SAAc,CAAC,WAAW,EAC1B,MAAW,CAAC,WAAW,EACvB,OAAwC,EACxC,KAAU,CAAC,WAAW,EACtB,UAAkB;QAPnB,iBAoFC;QA3EA,IACC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa;YACtC,uBAAuB,CAAC,KAAK,CAAC,EAC7B;YACD,IAAI,qBAAqB,CAAC;YAC1B,UAAU,IAAI,CAAC,CAAC;YAChB,yGAAyG;YACzG,kCAAkC;YAClC,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE;gBAC9B,mEAAmE;gBACnE,IAAI,gBAAgB,GAAG,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;gBACzD,IAAI,kBAAkB,GACrB,gBAAgB,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,gBAAgB,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;gBAC5D,IAAI,YAAY,GAAG;oBAClB,KAAK,OAAA;oBACL,gBAAgB,EAAE,UAAU;oBAC5B,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa;oBACxC,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe;oBAC5C,kBAAkB,oBAAA;iBAClB,CAAC;gBAEF,qBAAqB,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;gBAEhE,2GAA2G;gBAC3G,qGAAqG;gBACrG,IAAI,OAAO,qBAAqB,KAAK,QAAQ,EAAE;oBAC9C,IAAI,qBAAqB,YAAY,KAAK,EAAE;wBAC3C,KAAK,GAAG,qBAAqB,CAAC;qBAC9B;oBACD,MAAM,KAAK,CAAC;iBACZ;aACD;iBAAM,IACN,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC;gBAChC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC;gBACxC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,aAAa,CAAC,EACnD;gBACD,qBAAqB,GAAG,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;aAC9D;iBAAM;gBACN,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,IAAA,6BAAe,EAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC;aACnG;YAED,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE;gBAChC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;aAClE;YACD,6GAA6G;YAC7G,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,GAAG,qBAAqB,CAAC,CAAC;YAC1F,UAAU,CAAC,KAAK,GAAG,IAAA,SAAM,GAAE,CAAC;YAE5B,IAAI;gBACH,MAAM,CAAC,SAAS,GAAG,sBAAG,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;aAC3D;YAAC,OAAO,MAAM,EAAE;gBAChB,MAAM,MAAM,CAAC;aACb;YAED,OAAO,kBAAO,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC;gBAChD,yEAAyE;gBACzE,iBAAiB,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;gBACrC,OAAO,KAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;oBAChD,OAAA,KAAI,CAAC,aAAa,CACjB,MAAM,EACN,UAAU,EACV,SAAS,EACT,MAAM,EACN,OAAO,EACP,GAAG,EACH,UAAU,CACV;gBARD,CAQC,CACD,CAAC;YACH,CAAC,CAAC,CAAC;SACH;aAAM,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE;YACnD,KAAK,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;QAED,MAAM,KAAK,CAAC;IACb,CAAC;IAED;;;;;;;;;;;;OAYG;IACH,oCAAa,GAAb,UACC,WAAmB,EACnB,MAAyB,EACzB,QAAiB,EACjB,OAIC;QAED,IAAI,MAAM,GASN;YACH,UAAU,EAAE,UAAU,CAAC,cAAc;YACrC,kBAAkB,EAAE,iBAAiB;YACrC,aAAa,EAAE,WAAW;YAC1B,KAAK,EAAE,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;SAC7D,CAAC;QAEF,IAAI,QAAQ,EAAE;YACb,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;SAC3B;QAED,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,EAAE;YAClC,MAAM,CAAC,eAAe,GAAG,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC;SAChD;QAED,IAAI,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE;YAC7B,IAAI,OAAO,GAAG;gBACb,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;gBACzB,GAAG,EAAE,OAAO,CAAC,KAAK,CAAC,EAAE;gBACrB,GAAG,EAAE,gBAAgB;gBACrB,YAAY,EAAE,UAAU;gBACxB,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI;aACxB,CAAC;YAEF,IAAI,UAAU,GAAG;gBAChB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,IAAI;gBACf,WAAW,EAAE,IAAI;gBACjB,KAAK,EAAE,IAAA,SAAM,GAAE;aACf,CAAC;YAEF,IAAI,KAAK,CAAC;YACV,IAAI;gBACH,KAAK,GAAG,sBAAG,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,UAAiB,CAAC,WAAW,CAAC,CAAC;aACnE;YAAC,OAAO,QAAQ,EAAE;gBAClB,OAAO,kBAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;aAChC;YAED,MAAM,CAAC,WAAW,GAAG,KAAK,CAAC;YAC3B,MAAM,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;SAC3C;QAED,OAAO,IAAI,CAAC,SAAS,CACpB,MAAM,EACN,OAAO,IAAI,OAAO,CAAC,mBAAmB;YACrC,CAAC,CAAC,OAAO,CAAC,mBAAmB;YAC7B,CAAC,CAAC,IAAI,CACP,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACH,mCAAY,GAAZ,UAAa,KAAa,EAAE,OAA6B;QACxD,IAAI,MAAM,GAKN;YACH,MAAM,EAAE,MAAM;YACd,GAAG,EAAE,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,MAAM;YAC1C,IAAI,EAAE;gBACL,KAAK,OAAA;gBACL,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;gBAC/B,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY;aACvC;SACD,CAAC;QAEF,IAAI,OAAO,IAAI,OAAO,CAAC,EAAE,EAAE;YAC1B,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC;YACpB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,EAAE,CAAC;SACxC;QAED,OAAO,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAChD,CAAC;IACF,mBAAC;AAAD,CAAC,AAvaD,IAuaC;AAOD,iBAAS,YAAY,CAAC"}